var ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ft(w){return w&&w.__esModule&&Object.prototype.hasOwnProperty.call(w,"default")?w.default:w}var fe={exports:{}},dr;function Xr(){if(dr)return fe.exports;dr=1,fe.exports=w,fe.exports.addWheelListener=w,fe.exports.removeWheelListener=k;function w(d,v,u){d.addEventListener("wheel",v,u)}function k(d,v,u){d.removeEventListener("wheel",v,u)}return fe.exports}var le={exports:{}},qe,hr;function et(){if(hr)return qe;hr=1;var w=4,k=.001,d=1e-7,v=10,u=11,f=1/(u-1),T=typeof Float32Array=="function";function E(g,c){return 1-3*c+3*g}function i(g,c){return 3*c-6*g}function b(g){return 3*g}function l(g,c,x){return((E(c,x)*g+i(c,x))*g+b(c))*g}function y(g,c,x){return 3*E(c,x)*g*g+2*i(c,x)*g+b(c)}function I(g,c,x,B,A){var S,D,_=0;do D=c+(x-c)/2,S=l(D,B,A)-g,S>0?x=D:c=D;while(Math.abs(S)>d&&++_<v);return D}function z(g,c,x,B){for(var A=0;A<w;++A){var S=y(c,x,B);if(S===0)return c;var D=l(c,x,B)-g;c-=D/S}return c}function Z(g){return g}return qe=function(c,x,B,A){if(!(0<=c&&c<=1&&0<=B&&B<=1))throw new Error("bezier x values must be in [0, 1] range");if(c===x&&B===A)return Z;for(var S=T?new Float32Array(u):new Array(u),D=0;D<u;++D)S[D]=l(D*f,c,B);function _(s){for(var o=0,m=1,h=u-1;m!==h&&S[m]<=s;++m)o+=f;--m;var N=(s-S[m])/(S[m+1]-S[m]),O=o+N*f,a=y(O,c,B);return a>=k?z(s,O,c,B):a===0?O:I(s,o,o+f,c,B)}return function(o){return o===0?0:o===1?1:l(_(o),x,A)}},qe}var pr;function rt(){if(pr)return le.exports;pr=1;var w=et(),k={ease:w(.25,.1,.25,1),easeIn:w(.42,0,1,1),easeOut:w(0,0,.58,1),easeInOut:w(.42,0,.58,1),linear:w(0,0,1,1)};le.exports=d,le.exports.makeAggregateRaf=E,le.exports.sharedScheduler=E();function d(i,b,l){var y=Object.create(null),I=Object.create(null);l=l||{};var z=typeof l.easing=="function"?l.easing:k[l.easing];z||(l.easing&&console.warn("Unknown easing function in amator: "+l.easing),z=k.ease);var Z=typeof l.step=="function"?l.step:v,g=typeof l.done=="function"?l.done:v,c=u(l.scheduler),x=Object.keys(b);x.forEach(function(m){y[m]=i[m],I[m]=b[m]-i[m]});var B=typeof l.duration=="number"?l.duration:400,A=Math.max(1,B*.06),S,D=0;return S=c.next(s),{cancel:_};function _(){c.cancel(S),S=0}function s(){var m=z(D/A);D+=1,o(m),D<=A?(S=c.next(s),Z(i)):(S=0,setTimeout(function(){g(i)},0))}function o(m){x.forEach(function(h){i[h]=I[h]*m+y[h]})}}function v(){}function u(i){if(!i){var b=typeof window<"u"&&window.requestAnimationFrame;return b?f():T()}if(typeof i.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof i.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return i}function f(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function T(){return{next:function(i){return setTimeout(i,1e3/60)},cancel:function(i){return clearTimeout(i)}}}function E(){var i=new Set,b=new Set,l=0;return{next:I,cancel:I,clearAll:y};function y(){i.clear(),b.clear(),cancelAnimationFrame(l),l=0}function I(g){b.add(g),z()}function z(){l||(l=requestAnimationFrame(Z))}function Z(){l=0;var g=b;b=i,i=g,i.forEach(function(c){c()}),i.clear()}}return le.exports}var Fe,gr;function tt(){if(gr)return Fe;gr=1;function w(v){d(v);const u=k(v);return v.on=u.on,v.off=u.off,v.fire=u.fire,v}function k(v){let u=Object.create(null);return{on:function(f,T,E){if(typeof T!="function")throw new Error("callback is expected to be a function");let i=u[f];return i||(i=u[f]=[]),i.push({callback:T,ctx:E}),v},off:function(f,T){if(typeof f>"u")return u=Object.create(null),v;if(u[f])if(typeof T!="function")delete u[f];else{const E=u[f];for(let i=0;i<E.length;++i)E[i].callback===T&&E.splice(i,1)}return v},fire:function(f){const T=u[f];if(!T)return v;let E;arguments.length>1&&(E=Array.prototype.slice.call(arguments,1));for(let i=0;i<T.length;++i){const b=T[i];b.callback.apply(b.ctx,E)}return v}}}function d(v){if(!v)throw new Error("Eventify cannot use falsy object as events subject");const u=["on","fire","off"];for(let f=0;f<u.length;++f)if(v.hasOwnProperty(u[f]))throw new Error("Subject cannot be eventified, since it already has property '"+u[f]+"'")}return Fe=w,Fe}var ze,yr;function nt(){if(yr)return ze;yr=1,ze=w;function w(v,u,f){typeof f!="object"&&(f={});var T=typeof f.minVelocity=="number"?f.minVelocity:5,E=typeof f.amplitude=="number"?f.amplitude:.25,i=typeof f.cancelAnimationFrame=="function"?f.cancelAnimationFrame:k(),b=typeof f.requestAnimationFrame=="function"?f.requestAnimationFrame:d(),l,y,I=342,z,Z,g,c,x,B,A,S;return{start:_,stop:o,cancel:D};function D(){i(z),i(S)}function _(){l=v(),c=A=Z=x=0,y=new Date,i(z),i(S),z=b(s)}function s(){var h=Date.now(),N=h-y;y=h;var O=v(),a=O.x-l.x,J=O.y-l.y;l=O;var Q=1e3/(1+N);Z=.8*a*Q+.2*Z,x=.8*J*Q+.2*x,z=b(s)}function o(){i(z),i(S);var h=v();g=h.x,B=h.y,y=Date.now(),(Z<-T||Z>T)&&(c=E*Z,g+=c),(x<-T||x>T)&&(A=E*x,B+=A),S=b(m)}function m(){var h=Date.now()-y,N=!1,O=0,a=0;c&&(O=-c*Math.exp(-h/I),O>.5||O<-.5?N=!0:O=c=0),A&&(a=-A*Math.exp(-h/I),a>.5||a<-.5?N=!0:a=A=0),N&&(u(g+O,B+a),S=b(m))}}function k(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function d(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(v){return setTimeout(v,16)}}return ze}var Ne,wr;function ot(){if(wr)return Ne;wr=1,Ne=w;function w(v){if(v)return{capture:d,release:d};var u,f,T,E=!1;return{capture:i,release:b};function i(l){E=!0,f=window.document.onselectstart,T=window.document.ondragstart,window.document.onselectstart=k,u=l,u.ondragstart=k}function b(){E&&(E=!1,window.document.onselectstart=f,u&&(u.ondragstart=T))}}function k(v){return v.stopPropagation(),!1}function d(){}return Ne}var Ze,xr;function at(){if(xr)return Ze;xr=1,Ze=w;function w(){this.x=0,this.y=0,this.scale=1}return Ze}var we={exports:{}},br;function it(){if(br)return we.exports;br=1,we.exports=w,we.exports.canAttach=k;function w(d,v){if(!k(d))throw new Error("svg element is required for svg.panzoom to work");var u=d.ownerSVGElement;if(!u)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");v.disableKeyboardInteraction||u.setAttribute("tabindex",0);var f={getBBox:E,getScreenCTM:i,getOwner:T,applyTransform:l,initTransform:b};return f;function T(){return u}function E(){var y=d.getBBox();return{left:y.x,top:y.y,width:y.width,height:y.height}}function i(){var y=u.getCTM();return y||u.getScreenCTM()}function b(y){var I=d.getCTM();I===null&&(I=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),y.x=I.e,y.y=I.f,y.scale=I.a,u.removeAttributeNS(null,"viewBox")}function l(y){d.setAttribute("transform","matrix("+y.scale+" 0 0 "+y.scale+" "+y.x+" "+y.y+")")}}function k(d){return d&&d.ownerSVGElement&&d.getCTM}return we.exports}var xe={exports:{}},Sr;function ut(){if(Sr)return xe.exports;Sr=1,xe.exports=w,xe.exports.canAttach=k;function w(d,v){var u=k(d);if(!u)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var f=d.parentElement;d.scrollTop=0,v.disableKeyboardInteraction||f.setAttribute("tabindex",0);var T={getBBox:i,getOwner:E,applyTransform:b};return T;function E(){return f}function i(){return{left:0,top:0,width:d.clientWidth,height:d.clientHeight}}function b(l){d.style.transformOrigin="0 0 0",d.style.transform="matrix("+l.scale+", 0, 0, "+l.scale+", "+l.x+", "+l.y+")"}}function k(d){return d&&d.parentElement&&d.style}return xe.exports}var Re,Tr;function lt(){if(Tr)return Re;Tr=1;var w=Xr(),k=rt(),d=tt(),v=nt(),u=ot(),f=u(),T=u(!0),E=at(),i=it(),b=ut(),l=1,y=1.75,I=300,z=200;Re=Z;function Z(s,o){o=o||{};var m=o.controller;if(m||(i.canAttach(s)?m=i(s,o):b.canAttach(s)&&(m=b(s,o))),!m)throw new Error("Cannot create panzoom for the current type of dom element");var h=m.getOwner(),N={x:0,y:0},O=!1,a=new E;m.initTransform&&m.initTransform(a);var J=typeof o.filterKey=="function"?o.filterKey:x,Q=typeof o.pinchSpeed=="number"?o.pinchSpeed:1,U=o.bounds,q=typeof o.maxZoom=="number"?o.maxZoom:Number.POSITIVE_INFINITY,R=typeof o.minZoom=="number"?o.minZoom:0,L=typeof o.boundsPadding=="number"?o.boundsPadding:.05,P=typeof o.zoomDoubleClickSpeed=="number"?o.zoomDoubleClickSpeed:y,be=o.beforeWheel||x,re=o.beforeMouseDown||x,Se=typeof o.zoomSpeed=="number"?o.zoomSpeed:l,Y=g(o.transformOrigin),Te=o.enableTextSelection?T:f;B(U),o.autocenter&&kr();var te,Le=0,Pe=0,ne=0,je=null,Ve=new Date,Ee,oe=!1,ae=!1,j,V,Ce,Me,Ae,W;"smoothScroll"in o&&!o.smoothScroll?W=D():W=v(Rr,Wr,o.smoothScroll);var ke,ie,se,ve=!1;He();var me={dispose:_r,moveBy:$,moveTo:Be,smoothMoveTo:Vr,centerOn:jr,zoomTo:ge,zoomAbs:de,smoothZoom:pe,smoothZoomAbs:Qr,showRectangle:Ar,pause:Er,resume:Cr,isPaused:Mr,getTransform:Br,getMinZoom:Dr,setMinZoom:Or,getMaxZoom:Ir,setMaxZoom:qr,getTransformOrigin:Fr,setTransformOrigin:zr,getZoomSpeed:Nr,setZoomSpeed:Zr};d(me);var We=typeof o.initialX=="number"?o.initialX:a.x,_e=typeof o.initialY=="number"?o.initialY:a.y,Ye=typeof o.initialZoom=="number"?o.initialZoom:a.scale;return(We!=a.x||_e!=a.y||Ye!=a.scale)&&de(We,_e,Ye),me;function Er(){Je(),ve=!0}function Cr(){ve&&(He(),ve=!1)}function Mr(){return ve}function Ar(e){var r=h.getBoundingClientRect(),t=G(r.width,r.height),n=e.right-e.left,p=e.bottom-e.top;if(!Number.isFinite(n)||!Number.isFinite(p))throw new Error("Invalid rectangle");var C=t.x/n,M=t.y/p,F=Math.min(C,M);a.x=-(e.left+n/2)*F+t.x/2,a.y=-(e.top+p/2)*F+t.y/2,a.scale=F}function G(e,r){if(m.getScreenCTM){var t=m.getScreenCTM(),n=t.a,p=t.d,C=t.e,M=t.f;N.x=e*n-C,N.y=r*p-M}else N.x=e,N.y=r;return N}function kr(){var e,r,t=0,n=0,p=Ue();if(p)t=p.left,n=p.top,e=p.right-p.left,r=p.bottom-p.top;else{var C=h.getBoundingClientRect();e=C.width,r=C.height}var M=m.getBBox();if(!(M.width===0||M.height===0)){var F=r/M.height,ee=e/M.width,H=Math.min(ee,F);a.x=-(M.left+M.width/2)*H+e/2+t,a.y=-(M.top+M.height/2)*H+r/2+n,a.scale=H}}function Br(){return a}function Dr(){return R}function Or(e){R=e}function Ir(){return q}function qr(e){q=e}function Fr(){return Y}function zr(e){Y=g(e)}function Nr(){return Se}function Zr(e){if(!Number.isFinite(e))throw new Error("Zoom speed should be a number");Se=e}function Rr(){return{x:a.x,y:a.y}}function Be(e,r){a.x=e,a.y=r,De(),X("pan"),Oe()}function Ke(e,r){Be(a.x+e,a.y+r)}function De(){var e=Ue();if(e){var r=!1,t=Lr(),n=e.left-t.right;return n>0&&(a.x+=n,r=!0),n=e.right-t.left,n<0&&(a.x+=n,r=!0),n=e.top-t.bottom,n>0&&(a.y+=n,r=!0),n=e.bottom-t.top,n<0&&(a.y+=n,r=!0),r}}function Ue(){if(U){if(typeof U=="boolean"){var e=h.getBoundingClientRect(),r=e.width,t=e.height;return{left:r*L,top:t*L,right:r*(1-L),bottom:t*(1-L)}}return U}}function Lr(){var e=m.getBBox(),r=Pr(e.left,e.top);return{left:r.x,top:r.y,right:e.width*a.scale+r.x,bottom:e.height*a.scale+r.y}}function Pr(e,r){return{x:e*a.scale+a.x,y:r*a.scale+a.y}}function Oe(){O=!0,te=window.requestAnimationFrame(Yr)}function Ge(e,r,t){if(S(e)||S(r)||S(t))throw new Error("zoom requires valid numbers");var n=a.scale*t;if(n<R){if(a.scale===R)return;t=R/a.scale}if(n>q){if(a.scale===q)return;t=q/a.scale}var p=G(e,r);if(a.x=p.x-t*(p.x-a.x),a.y=p.y-t*(p.y-a.y),U&&L===1&&R===1)a.scale*=t,De();else{var C=De();C||(a.scale*=t)}X("zoom"),Oe()}function de(e,r,t){var n=t/a.scale;Ge(e,r,n)}function jr(e){var r=e.ownerSVGElement;if(!r)throw new Error("ui element is required to be within the scene");var t=e.getBoundingClientRect(),n=t.left+t.width/2,p=t.top+t.height/2,C=r.getBoundingClientRect(),M=C.width/2-n,F=C.height/2-p;$(M,F,!0)}function Vr(e,r){$(e-a.x,r-a.y,!0)}function $(e,r,t){if(!t)return Ke(e,r);ke&&ke.cancel();var n={x:0,y:0},p={x:e,y:r},C=0,M=0;ke=k(n,p,{step:function(F){Ke(F.x-C,F.y-M),C=F.x,M=F.y}})}function Wr(e,r){ye(),Be(e,r)}function _r(){Je()}function He(){h.addEventListener("mousedown",or,{passive:!1}),h.addEventListener("dblclick",nr,{passive:!1}),h.addEventListener("touchstart",$e,{passive:!1}),h.addEventListener("keydown",Qe,{passive:!1}),w.addWheelListener(h,fr,{passive:!1}),Oe()}function Je(){w.removeWheelListener(h,fr),h.removeEventListener("mousedown",or),h.removeEventListener("keydown",Qe),h.removeEventListener("dblclick",nr),h.removeEventListener("touchstart",$e),te&&(window.cancelAnimationFrame(te),te=0),W.cancel(),ur(),cr(),Te.release(),Ie()}function Yr(){O&&Kr()}function Kr(){O=!1,m.applyTransform(a),X("transform"),te=0}function Qe(e){var r=0,t=0,n=0;if(e.keyCode===38?t=1:e.keyCode===40?t=-1:e.keyCode===37?r=1:e.keyCode===39?r=-1:e.keyCode===189||e.keyCode===109?n=1:(e.keyCode===187||e.keyCode===107)&&(n=-1),!J(e,r,t,n)){if(r||t){e.preventDefault(),e.stopPropagation();var p=h.getBoundingClientRect(),C=Math.min(p.width,p.height),M=.05,F=C*M*r,ee=C*M*t;$(F,ee)}if(n){var H=lr(n*100),C=Y?ce():Ur();ge(C.x,C.y,H)}}}function Ur(){var e=h.getBoundingClientRect();return{x:e.width/2,y:e.height/2}}function $e(e){if(Gr(e),ue(),e.touches.length===1)return Jr(e,e.touches[0]);e.touches.length===2&&(Ae=tr(e.touches[0],e.touches[1]),se=!0,Xe())}function Gr(e){o.onTouch&&!o.onTouch(e)||(e.stopPropagation(),e.preventDefault())}function Hr(e){ue(),!(o.onDoubleClick&&!o.onDoubleClick(e))&&(e.preventDefault(),e.stopPropagation())}function Jr(e){Pe=new Date;var r=e.touches[0],t=K(r);Ee=t;var n=G(t.x,t.y);j=n.x,V=n.y,Ce=j,Me=V,W.cancel(),Xe()}function Xe(){oe||(oe=!0,document.addEventListener("touchmove",er),document.addEventListener("touchend",he),document.addEventListener("touchcancel",he))}function er(e){if(e.touches.length===1){e.stopPropagation();var r=e.touches[0],t=K(r),n=G(t.x,t.y),p=n.x-j,C=n.y-V;p!==0&&C!==0&&sr(),j=n.x,V=n.y,$(p,C)}else if(e.touches.length===2){se=!0;var M=e.touches[0],F=e.touches[1],ee=tr(M,F),H=1+(ee/Ae-1)*Q,vr=K(M),mr=K(F);if(j=(vr.x+mr.x)/2,V=(vr.y+mr.y)/2,Y){var t=ce();j=t.x,V=t.y}ge(j,V,H),Ae=ee,e.stopPropagation(),e.preventDefault()}}function ue(){ne&&(clearTimeout(ne),ne=0)}function rr(e){if(o.onClick){ue();var r=j-Ce,t=V-Me,n=Math.sqrt(r*r+t*t);n>5||(ne=setTimeout(function(){ne=0,o.onClick(e)},I))}}function he(e){if(ue(),e.touches.length>0){var r=K(e.touches[0]),t=G(r.x,r.y);j=t.x,V=t.y}else{var n=new Date;if(n-Le<I)if(Y){var r=ce();pe(r.x,r.y,P)}else pe(Ee.x,Ee.y,P);else n-Pe<z&&rr(e);Le=n,Ie(),cr()}}function tr(e,r){var t=e.clientX-r.clientX,n=e.clientY-r.clientY;return Math.sqrt(t*t+n*n)}function nr(e){Hr(e);var r=K(e);Y&&(r=ce()),pe(r.x,r.y,P)}function or(e){if(ue(),!re(e)){if(je=e,Ve=new Date,oe)return e.stopPropagation(),!1;var r=e.button===1&&window.event!==null||e.button===0;if(r){W.cancel();var t=K(e),n=G(t.x,t.y);return Ce=j=n.x,Me=V=n.y,document.addEventListener("mousemove",ar),document.addEventListener("mouseup",ir),Te.capture(e.target||e.srcElement),!1}}}function ar(e){if(!oe){sr();var r=K(e),t=G(r.x,r.y),n=t.x-j,p=t.y-V;j=t.x,V=t.y,$(n,p)}}function ir(){var e=new Date;e-Ve<z&&rr(je),Te.release(),Ie(),ur()}function ur(){document.removeEventListener("mousemove",ar),document.removeEventListener("mouseup",ir),ae=!1}function cr(){document.removeEventListener("touchmove",er),document.removeEventListener("touchend",he),document.removeEventListener("touchcancel",he),ae=!1,se=!1,oe=!1}function fr(e){if(!be(e)){W.cancel();var r=e.deltaY;e.deltaMode>0&&(r*=100);var t=lr(r);if(t!==1){var n=Y?ce():K(e);ge(n.x,n.y,t),e.preventDefault()}}}function K(e){var r,t,n=h.getBoundingClientRect();return r=e.clientX-n.left,t=e.clientY-n.top,{x:r,y:t}}function pe(e,r,t){var n=a.scale,p={scale:n},C={scale:t*n};W.cancel(),ye(),ie=k(p,C,{step:function(M){de(e,r,M.scale)},done:$r})}function Qr(e,r,t){var n=a.scale,p={scale:n},C={scale:t};W.cancel(),ye(),ie=k(p,C,{step:function(M){de(e,r,M.scale)}})}function ce(){var e=h.getBoundingClientRect();return{x:e.width*Y.x,y:e.height*Y.y}}function ge(e,r,t){return W.cancel(),ye(),Ge(e,r,t)}function ye(){ie&&(ie.cancel(),ie=null)}function lr(e){var r=Math.sign(e),t=Math.min(.25,Math.abs(Se*e/128));return 1-r*t}function sr(){ae||(X("panstart"),ae=!0,W.start())}function Ie(){ae&&(se||W.stop(),X("panend"))}function $r(){X("zoomend")}function X(e){me.fire(e,me)}}function g(s){if(s){if(typeof s=="object")return(!A(s.x)||!A(s.y))&&c(s),s;c()}}function c(s){throw console.error(s),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function x(){}function B(s){var o=typeof s;if(!(o==="undefined"||o==="boolean")){var m=A(s.left)&&A(s.top)&&A(s.bottom)&&A(s.right);if(!m)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function A(s){return Number.isFinite(s)}function S(s){return Number.isNaN?Number.isNaN(s):s!==s}function D(){return{start:x,stop:x,cancel:x}}function _(){if(typeof document>"u")return;var s=document.getElementsByTagName("script");if(!s)return;for(var o,m=0;m<s.length;++m){var h=s[m];if(h.src&&h.src.match(/\bpanzoom(\.min)?\.js/)){o=h;break}}if(!o)return;var N=o.getAttribute("query");if(!N)return;var O=o.getAttribute("name")||"pz",a=Date.now();J();function J(){var q=document.querySelector(N);if(!q){var R=Date.now(),L=R-a;if(L<2e3){setTimeout(J,100);return}console.error("Cannot find the panzoom element",O);return}var P=Q(o);console.log(P),window[O]=Z(q,P)}function Q(q){for(var R=q.attributes,L={},P=0;P<R.length;++P){var be=R[P],re=U(be);re&&(L[re.name]=re.value)}return L}function U(q){if(q.name){var R=q.name[0]==="p"&&q.name[1]==="z"&&q.name[2]==="-";if(R){var L=q.name.substr(3),P=JSON.parse(q.value);return{name:L,value:P}}}}}return _(),Re}export{ct as c,ft as g,lt as r};
